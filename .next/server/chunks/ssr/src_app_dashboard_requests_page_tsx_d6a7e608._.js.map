{"version":3,"sources":["../../../../src/app/dashboard/requests/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo, useRef } from \"react\";\nimport { RequestType } from \"@/types/request\";\nimport {\n  getFieldInputType,\n  getFieldPattern,\n  filterPhoneInput,\n} from \"@/lib/validation\";\nimport { addToast } from \"@/lib/toast\";\n\nexport default function RequestsPage() {\n  const [requests, setRequests] = useState<RequestType[]>([]);\n  const [selectedRequest, setSelectedRequest] = useState<RequestType | null>(null);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [editFormData, setEditFormData] = useState<RequestType | null>(null);\n  // Default to showing all so users immediately see requests; users can filter to active/resolved\n  const [statusFilter, setStatusFilter] = useState<\"all\" | \"active\" | \"resolved\">(\"all\");\n  const [deleteConfirmModal, setDeleteConfirmModal] = useState<{ isOpen: boolean; id: number | null }>({\n    isOpen: false,\n    id: null,\n  });\n\n  // sortConfig: key is the column to sort by, direction is asc/desc\n  const [sortConfig, setSortConfig] = useState<{ key: string | null; direction: \"asc\" | \"desc\" }>({\n    key: null,\n    direction: \"asc\",\n  });\n  const [pageSize, setPageSize] = useState<number>(10);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n  const [isSearchOpen, setIsSearchOpen] = useState<boolean>(false);\n  const searchRef = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    const onDocClick = (e: MouseEvent) => {\n      if (!searchRef.current) return;\n      if (e.target instanceof Node && !searchRef.current.contains(e.target)) {\n        setIsSearchOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", onDocClick);\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\n  }, [searchRef]);\n  const [categoryFilter, setCategoryFilter] = useState<string | null>(null);\n  const [priorityFilter, setPriorityFilter] = useState<string | null>(null);\n\n  const fetchRequests = async () => {\n    const res = await fetch(\"/dashboard/requests/api\");\n    const data: RequestType[] = await res.json();\n    setRequests(data);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await fetch(\"/dashboard/requests/api\");\n        const data: RequestType[] = await res.json();\n        setRequests(data);\n      } catch (err) {\n        console.error(\"Failed to fetch requests:\", err);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const deleteRequest = async (id: number) => {\n    try {\n      const res = await fetch(\"/dashboard/requests/api\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ id }),\n      });\n      \n      if (res.ok) {\n        addToast(\"Request deleted successfully!\", \"success\");\n        fetchRequests();\n        setSelectedRequest(null);\n      } else {\n        addToast(\"Failed to delete request\", \"error\");\n      }\n    } catch (err) {\n      console.error(\"Delete failed:\", err);\n      addToast(\"Error deleting request\", \"error\");\n    }\n    setDeleteConfirmModal({ isOpen: false, id: null });\n  };\n\n  const resolveRequest = async (request: RequestType) => {\n    try {\n      const res = await fetch(\"/dashboard/requests/api\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ...request, status: \"resolved\" }),\n      });\n      \n      if (res.ok) {\n        addToast(\"Request marked as resolved!\", \"success\");\n        fetchRequests();\n        setSelectedRequest(null);\n      } else {\n        addToast(\"Failed to resolve request\", \"error\");\n      }\n    } catch (err) {\n      console.error(\"Resolve failed:\", err);\n      addToast(\"Error resolving request\", \"error\");\n    }\n  };\n\n  const openEditModal = (request: RequestType) => {\n    setSelectedRequest(null); // Close view panel\n    setEditFormData({ ...request });\n    setIsEditModalOpen(true);\n  };\n\n  const handleEditInputChange = (key: string, value: string) => {\n    // Filter phone input to only allow valid characters\n    const filteredValue =\n      key === \"contact\" || key === \"phone\" ? filterPhoneInput(value) : value;\n\n    if (editFormData) {\n      setEditFormData({ ...editFormData, [key]: filteredValue });\n    }\n  };\n\n  const saveEditedRequest = async () => {\n    if (!editFormData) return;\n\n    try {\n      const res = await fetch(\"/dashboard/requests/api\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(editFormData),\n      });\n\n      if (res.ok) {\n        addToast(\"Request updated successfully!\", \"success\");\n        setIsEditModalOpen(false);\n        setEditFormData(null);\n        fetchRequests();\n      } else {\n        addToast(\"Failed to update request\", \"error\");\n      }\n    } catch (err) {\n      console.error(\"Update failed:\", err);\n      addToast(\"Error updating request\", \"error\");\n    }\n  };\n\n  const viewRequest = (request: RequestType) => setSelectedRequest(request);\n\n  // Filter requests based on status filter\n  const filteredRequests = requests.filter((r) => {\n    if (statusFilter === \"active\" && r.status === \"resolved\") return false;\n    if (statusFilter === \"resolved\" && r.status !== \"resolved\") return false;\n    if (categoryFilter && categoryFilter !== \"\") {\n      if ((r.category || \"\") !== categoryFilter) return false;\n    }\n    if (priorityFilter && priorityFilter !== \"\") {\n      if ((r.priority || \"\") !== priorityFilter) return false;\n    }\n    if (searchTerm && searchTerm.trim() !== \"\") {\n      const title = (r.title || \"\").toString().toLowerCase();\n      if (!title.includes(searchTerm.trim().toLowerCase())) return false;\n    }\n    return true; // passes filters\n  });\n\n  // quick filter lists\n  const categories = useMemo(() => Array.from(new Set(requests.map((r) => r.category).filter(Boolean))) as string[], [requests]);\n\n  // Sorting logic\n  const sortedRequests = useMemo(() => {\n    const arr = [...filteredRequests];\n\n    if (!sortConfig.key) return arr;\n\n    const direction = sortConfig.direction === \"asc\" ? 1 : -1;\n\n    // helper for priority ordering\n    const priorityRank = (p?: string | number) => {\n      if (!p) return 2; // treat missing as medium\n      const s = String(p).toLowerCase();\n      if (s === \"low\") return 1;\n      if (s === \"medium\") return 2;\n      if (s === \"high\") return 3;\n      return 2;\n    };\n\n    arr.sort((a, b) => {\n      const key = sortConfig.key;\n\n      if (key === \"category\") {\n        const aa = (a.category || \"\").toString().toLowerCase();\n        const bb = (b.category || \"\").toString().toLowerCase();\n        if (aa < bb) return -1 * direction;\n        if (aa > bb) return 1 * direction;\n        return (a.id as number) - (b.id as number);\n      }\n\n      if (key === \"priority\") {\n        const pa = priorityRank(a.priority);\n        const pb = priorityRank(b.priority);\n        if (pa < pb) return -1 * direction;\n        if (pa > pb) return 1 * direction;\n        return (a.id as number) - (b.id as number);\n      }\n\n      if (key === \"status\") {\n        // active requests first (status !== 'resolved') when ascending\n        const activeA = a.status !== \"resolved\" ? 0 : 1;\n        const activeB = b.status !== \"resolved\" ? 0 : 1;\n        if (activeA < activeB) return -1 * direction;\n        if (activeA > activeB) return 1 * direction;\n        return (a.id as number) - (b.id as number);\n      }\n\n      return 0;\n    });\n\n    return arr;\n  }, [filteredRequests, sortConfig]);\n\n  // Pagination: compute current page slice\n  const totalRequests = sortedRequests.length;\n  const totalPages = Math.max(1, Math.ceil(totalRequests / pageSize));\n\n  // compute effective page (don't force state updates in effects)\n  const effectivePage = Math.min(currentPage, totalPages);\n\n  const currentPageRequests = useMemo(() => {\n    const start = (effectivePage - 1) * pageSize;\n    return sortedRequests.slice(start, start + pageSize);\n  }, [sortedRequests, effectivePage, pageSize]);\n\n  const handleSort = (key: string) => {\n    setSelectedRequest(null);\n    setDeleteConfirmModal({ isOpen: false, id: null });\n    setSortConfig((prev) => {\n      if (prev.key !== key) {\n        // start with asc for new column\n        setCurrentPage(1);\n        return { key, direction: \"asc\" };\n      }\n      // toggle direction\n      setCurrentPage(1);\n      return { key, direction: prev.direction === \"asc\" ? \"desc\" : \"asc\" };\n    });\n  };\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">Requests</h1>\n\n      {/* KPI cards intentionally omitted here (dashboard page contains KPIs) */}\n\n      {/* Filters combined with search (search aligned to the right like before) */}\n      <div className=\"mb-4 flex items-center\">\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => {\n              setStatusFilter(\"active\");\n              setSelectedRequest(null);\n              setCurrentPage(1);\n            }}\n            className={`px-4 py-2 rounded-lg font-medium transition cursor-pointer ${\n              statusFilter === \"active\" ? \"bg-blue-600 text-white\" : \"bg-gray-200 text-gray-800 hover:bg-gray-300\"\n            }`}\n          >\n            Active ({requests.filter((r) => r.status !== \"resolved\").length})\n          </button>\n          <button\n            onClick={() => {\n              setStatusFilter(\"resolved\");\n              setSelectedRequest(null);\n              setCurrentPage(1);\n            }}\n            className={`px-4 py-2 rounded-lg font-medium transition cursor-pointer ${\n              statusFilter === \"resolved\" ? \"bg-green-600 text-white\" : \"bg-gray-200 text-gray-800 hover:bg-gray-300\"\n            }`}\n          >\n            Resolved ({requests.filter((r) => r.status === \"resolved\").length})\n          </button>\n          <button\n            onClick={() => {\n              setStatusFilter(\"all\");\n              setSelectedRequest(null);\n              setCurrentPage(1);\n            }}\n            className={`px-4 py-2 rounded-lg font-medium transition cursor-pointer ${\n              statusFilter === \"all\" ? \"bg-gray-800 text-white\" : \"bg-gray-200 text-gray-800 hover:bg-gray-300\"\n            }`}\n          >\n            All ({requests.length})\n          </button>\n        </div>\n\n          <div className=\"ml-auto relative\" ref={searchRef}>\n          <div\n            className={\n              `flex items-center bg-white border border-gray-300 px-3 py-1 shadow-sm w-80 cursor-text ` +\n              (isSearchOpen ? \"rounded-t-lg border-b-0\" : \"rounded-lg\")\n            }\n            onClick={() => setIsSearchOpen(true)}\n          >\n            <svg className=\"w-5 h-5 text-gray-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z\"></path>\n            </svg>\n            <input\n              value={searchTerm}\n              onChange={(e) => {\n                setSearchTerm(e.target.value);\n                setCurrentPage(1);\n                setSelectedRequest(null);\n              }}\n              placeholder=\"Search\"\n              className=\"w-full outline-none text-gray-800 placeholder-gray-400\"\n              onFocus={() => setIsSearchOpen(true)}\n            />\n            {searchTerm && (\n              <button\n                onClick={() => {\n                  setSearchTerm(\"\");\n                  setCurrentPage(1);\n                }}\n                className=\"ml-2 text-sm text-gray-500\"\n                aria-label=\"Clear search\"\n              >\n                ×\n              </button>\n            )}\n          </div>\n\n          {isSearchOpen && (\n            <div className=\"absolute right-0 top-full mt-0 w-80 bg-white border border-gray-200 rounded-b-lg p-3 shadow-lg z-50\">\n              <div className=\"grid grid-cols-3 gap-3\">\n                <div>\n                  <p className=\"text-xs text-gray-500 mb-2 font-semibold\">Category</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {categories.map((c) => (\n                      <div key={c} className=\"relative\">\n                        <button\n                          onClick={() => {\n                            setCategoryFilter((prev) => (prev === c ? null : c));\n                            setCurrentPage(1);\n                            setSelectedRequest(null);\n                          }}\n                          className={`min-w-22 flex items-center justify-center px-3 py-1 rounded-full text-sm border ${categoryFilter === c ? 'bg-gray-900 text-white' : 'bg-white text-gray-700'}`}\n                        >\n                          <span className=\"truncate\">{c}</span>\n                        </button>\n                        {categoryFilter === c && (\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              setCategoryFilter(null);\n                              setCurrentPage(1);\n                            }}\n                            className=\"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] shadow\"\n                            aria-label={`Remove category ${c}`}\n                            title=\"Remove\"\n                          >\n                            ×\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <p className=\"text-xs text-gray-500 mb-2 font-semibold\">Priority</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {[\n                      { value: 'Low', label: 'Low' },\n                      { value: 'Medium', label: 'Mid' },\n                      { value: 'High', label: 'High' },\n                    ].map((p) => (\n                      <div key={p.value} className=\"relative\">\n                        <button\n                          onClick={() => {\n                            setPriorityFilter((prev) => (prev === p.value ? null : p.value));\n                            setCurrentPage(1);\n                            setSelectedRequest(null);\n                          }}\n                          className={`min-w-22 flex items-center justify-center px-3 py-1 rounded-full text-sm border ${priorityFilter === p.value ? 'bg-gray-900 text-white' : 'bg-white text-gray-700'}`}\n                        >\n                          <span className=\"truncate\">{p.label}</span>\n                        </button>\n                        {priorityFilter === p.value && (\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              setPriorityFilter(null);\n                              setCurrentPage(1);\n                            }}\n                            className=\"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] shadow\"\n                            aria-label={`Remove priority ${p.value}`}\n                            title=\"Remove\"\n                          >\n                            ×\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <p className=\"text-xs text-gray-500 mb-2 font-semibold\">Status</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {['active', 'resolved'].map((s) => (\n                      <div key={s} className=\"relative\">\n                        <button\n                          onClick={() => {\n                            setStatusFilter(s as 'active' | 'resolved');\n                            setCurrentPage(1);\n                            setSelectedRequest(null);\n                          }}\n                          className={`min-w-22 flex items-center justify-center px-3 py-1 rounded-full text-sm border ${statusFilter === s ? 'bg-gray-900 text-white' : 'bg-white text-gray-700'}`}\n                        >\n                          <span className=\"truncate\">{s === 'active' ? 'Active' : 'Resolved'}</span>\n                        </button>\n                        {statusFilter === s && (\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              setStatusFilter('all');\n                              setCurrentPage(1);\n                            }}\n                            className=\"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] shadow\"\n                            aria-label={`Remove status ${s}`}\n                            title=\"Remove\"\n                          >\n                            ×\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"col-span-3 mt-2\">\n                  <div className=\"mt-1\">\n                    <button\n                      onClick={() => {\n                        setCategoryFilter(null);\n                        setPriorityFilter(null);\n                        setStatusFilter('all');\n                        setSelectedRequest(null);\n                      }}\n                      className=\"px-3 py-1 rounded text-sm bg-gray-100 text-gray-800 border border-gray-200\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-900 text-white\">\n            <tr>\n              <th className=\"px-6 py-4 text-left font-semibold\">Title</th>\n              <th className=\"px-6 py-4 text-left font-semibold\">\n                <button\n                  className=\"flex items-center gap-2\"\n                  onClick={() => handleSort(\"category\")}\n                >\n                  <span>Category</span>\n                  <span className=\"ml-2\">\n                    <span\n                      className={\n                        `inline-flex items-center justify-center w-6 h-6 text-xs rounded border transition-colors ` +\n                        (sortConfig.key === \"category\"\n                          ? \"bg-white text-gray-900 border-gray-200\"\n                          : \"bg-transparent text-gray-300 border-gray-400\")\n                      }\n                      aria-hidden\n                    >\n                      {sortConfig.key === \"category\"\n                        ? sortConfig.direction === \"asc\"\n                          ? \"▲\"\n                          : \"▼\"\n                        : \"↕\"}\n                    </span>\n                  </span>\n                </button>\n              </th>\n              <th className=\"px-6 py-4 text-left font-semibold\">\n                <button\n                  className=\"flex items-center gap-2\"\n                  onClick={() => handleSort(\"priority\")}\n                >\n                  <span>Priority</span>\n                  <span className=\"ml-2\">\n                    <span\n                      className={\n                        `inline-flex items-center justify-center w-6 h-6 text-xs rounded border transition-colors ` +\n                        (sortConfig.key === \"priority\"\n                          ? \"bg-white text-gray-900 border-gray-200\"\n                          : \"bg-transparent text-gray-300 border-gray-400\")\n                      }\n                      aria-hidden\n                    >\n                      {sortConfig.key === \"priority\"\n                        ? sortConfig.direction === \"asc\"\n                          ? \"▲\"\n                          : \"▼\"\n                        : \"↕\"}\n                    </span>\n                  </span>\n                </button>\n              </th>\n              <th className=\"px-6 py-4 text-left font-semibold\">\n                <button\n                  className=\"flex items-center gap-2\"\n                  onClick={() => handleSort(\"status\")}\n                >\n                  <span>Status</span>\n                  <span className=\"ml-2\">\n                    <span\n                      className={\n                        `inline-flex items-center justify-center w-6 h-6 text-xs rounded border transition-colors ` +\n                        (sortConfig.key === \"status\"\n                          ? \"bg-white text-gray-900 border-gray-200\"\n                          : \"bg-transparent text-gray-300 border-gray-400\")\n                      }\n                      aria-hidden\n                    >\n                      {sortConfig.key === \"status\"\n                        ? sortConfig.direction === \"asc\"\n                          ? \"▲\"\n                          : \"▼\"\n                        : \"↕\"}\n                    </span>\n                  </span>\n                </button>\n              </th>\n              <th className=\"px-6 py-4 text-center font-semibold\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {currentPageRequests.map((r) => (\n              <tr key={r.id} className=\"border-b hover:bg-gray-50 transition\">\n                <td className=\"px-6 py-4 font-medium text-gray-800\">{r.title}</td>\n                <td className=\"px-6 py-4 text-gray-700\">\n                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\">\n                    {r.category}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 text-gray-700\">\n                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                    r.priority === \"High\" ? \"bg-red-100 text-red-800\" :\n                    r.priority === \"Medium\" ? \"bg-yellow-100 text-yellow-800\" :\n                    \"bg-green-100 text-green-800\"\n                  }`}>\n                    {r.priority || \"N/A\"}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 text-gray-700\">\n                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                    r.status === \"resolved\"\n                      ? \"bg-green-100 text-green-800\"\n                      : \"bg-orange-100 text-orange-800\"\n                  }`}>\n                    {r.status === \"resolved\" ? \"Resolved\" : \"Active\"}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 text-center\">\n                  <div className=\"flex justify-center gap-2\">\n                    {/* View (eye) */}\n                    <button\n                      onClick={() => viewRequest(r)}\n                      title=\"View\"\n                      aria-label=\"View request\"\n                      className=\"w-9 h-9 flex items-center justify-center rounded border transition cursor-pointer bg-blue-700 hover:bg-blue-800 text-white\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.065 7-9.542 7S3.732 16.057 2.458 12z\" />\n                      </svg>\n                    </button>\n\n                    {/* Resolved (check) */}\n                    {r.status !== \"resolved\" && (\n                      <button\n                        onClick={() => resolveRequest(r)}\n                        title=\"Mark resolved\"\n                        aria-label=\"Mark request as resolved\"\n                        className=\"w-9 h-9 flex items-center justify-center rounded border transition cursor-pointer bg-green-700 hover:bg-green-800 text-white\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n                        </svg>\n                      </button>\n                    )}\n\n                    {/* Delete (trash) */}\n                    <button\n                      onClick={() => setDeleteConfirmModal({ isOpen: true, id: r.id })}\n                      title=\"Delete\"\n                      aria-label=\"Delete request\"\n                      className=\"w-9 h-9 flex items-center justify-center rounded border transition cursor-pointer bg-red-700 hover:bg-red-800 text-white\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M1 7h22M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3\" />\n                      </svg>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {totalRequests === 0 && (\n        <div className=\"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded\">\n          <p className=\"text-sm text-yellow-800\">No requests found for the current filters.</p>\n          <div className=\"mt-2\">\n            <button\n              onClick={() => {\n                setCategoryFilter(null);\n                setPriorityFilter(null);\n                setStatusFilter('all');\n                setSearchTerm('');\n                setSelectedRequest(null);\n              }}\n              className=\"px-3 py-1 bg-white border rounded text-sm\"\n            >\n              Clear filters\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* View Details Section */}\n      {selectedRequest && (\n        <div className=\"mt-8 p-6 bg-white rounded-lg shadow-md border-l-4 border-blue-600\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">Request Details</h2>\n            <div className=\"flex gap-2\">\n              <button\n                className=\"bg-amber-700 hover:bg-amber-800 text-white px-4 py-2 rounded font-medium transition cursor-pointer\"\n                onClick={() => openEditModal(selectedRequest)}\n              >\n                Edit\n              </button>\n              <button\n                className=\"text-gray-500 hover:text-gray-700 text-2xl cursor-pointer\"\n                onClick={() => setSelectedRequest(null)}\n              >\n                ×\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-6\">\n            {Object.entries(selectedRequest).map(([key, value]) => {\n              if (key === \"id\") return null;\n              return (\n                <div key={key} className=\"border-b pb-3\">\n                  <p className=\"text-sm text-gray-600 font-semibold uppercase\">{key}</p>\n                  <p className=\"text-lg text-gray-800 mt-1\">{value || \"N/A\"}</p>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Edit Modal - Inline Panel */}\n      {isEditModalOpen && editFormData && (\n        <div className=\"mt-8 p-6 bg-white rounded-lg shadow-lg border-l-4 border-gray-900\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">Edit Request</h2>\n            <button\n              className=\"text-gray-500 hover:text-gray-700 text-2xl\"\n              onClick={() => {\n                setIsEditModalOpen(false);\n                setEditFormData(null);\n              }}\n            >\n              ×\n            </button>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-6\">\n            {Object.entries(editFormData).map(([key, value]) => {\n              if (key === \"id\") return null;\n              \n              const inputType = getFieldInputType(key);\n              const pattern = getFieldPattern(key);\n              \n              return (\n                <div key={key}>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2 uppercase\">\n                    {key}\n                  </label>\n                  {key === \"description\" ? (\n                    <textarea\n                      value={value || \"\"}\n                      onChange={(e) => handleEditInputChange(key, e.target.value)}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 min-h-32\"\n                      placeholder={`Enter ${key}`}\n                    />\n                  ) : key === \"priority\" ? (\n                    <select\n                      value={value || \"\"}\n                      onChange={(e) => handleEditInputChange(key, e.target.value)}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 cursor-pointer\"\n                    >\n                      <option value=\"\">Select Priority</option>\n                      <option value=\"High\">High</option>\n                      <option value=\"Medium\">Medium</option>\n                      <option value=\"Low\">Low</option>\n                    </select>\n                  ) : (\n                    <input\n                      type={inputType}\n                      value={value || \"\"}\n                      onChange={(e) => handleEditInputChange(key, e.target.value)}\n                      pattern={pattern}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900\"\n                      placeholder={`Enter ${key}`}\n                      title={inputType === \"tel\" ? \"Phone number can contain numbers, dashes, parentheses, and plus sign\" : \"\"}\n                    />\n                  )}\n                </div>\n              );\n            })}\n          </div>\n\n            <div className=\"sticky bottom-0 bg-gray-100 px-6 py-4 flex justify-end gap-3\">\n              <button\n                className=\"px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium rounded-lg transition cursor-pointer\"\n                onClick={() => {\n                  setIsEditModalOpen(false);\n                  setEditFormData(null);\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"px-6 py-2 bg-gray-900 hover:bg-black text-white font-medium rounded-lg transition cursor-pointer\"\n                onClick={saveEditedRequest}\n              >\n                Save Changes\n              </button>\n            </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {deleteConfirmModal.isOpen && (\n        <div className=\"fixed inset-0 flex items-center justify-center z-40 pointer-events-none\">\n          <div className=\"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 pointer-events-auto\">\n            <div className=\"bg-red-50 px-6 py-4 border-b border-red-200\">\n              <h2 className=\"text-xl font-bold text-red-700\">Delete Request</h2>\n            </div>\n\n            <div className=\"px-6 py-6\">\n              <p className=\"text-gray-700 text-base mb-4\">\n                Are you sure you want to delete this request? This action cannot be undone.\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                The request will be marked as deleted and will no longer appear in your dashboard.\n              </p>\n            </div>\n\n            <div className=\"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end gap-3\">\n              <button\n                className=\"px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium rounded-lg transition cursor-pointer\"\n                onClick={() => setDeleteConfirmModal({ isOpen: false, id: null })}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition cursor-pointer\"\n                onClick={() => {\n                  if (deleteConfirmModal.id) {\n                    deleteRequest(deleteConfirmModal.id);\n                  }\n                }}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n        {/* Pagination controls */}\n        <div className=\"mt-4 flex items-center justify-between\">\n          <div className=\"text-sm text-gray-600\">\n            Showing {Math.min((currentPage - 1) * pageSize + 1, totalRequests || 0)} - {Math.min(currentPage * pageSize, totalRequests)} of {totalRequests}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n              disabled={currentPage === 1}\n              className={`px-3 py-1 rounded ${currentPage === 1 ? 'bg-gray-200 text-gray-400' : 'bg-gray-800 text-white'}`}\n            >\n              Prev\n            </button>\n            <div className=\"flex items-center gap-1\">\n              {Array.from({ length: totalPages }).map((_, i) => {\n                const page = i + 1;\n                // show up to 5 page buttons centered around current\n                if (totalPages > 7) {\n                  if (page !== 1 && page !== totalPages && Math.abs(page - currentPage) > 2) {\n                    // skip rendering in-between pages to keep control compact\n                    return null;\n                  }\n                }\n                return (\n                  <button\n                    key={page}\n                    onClick={() => setCurrentPage(page)}\n                    className={`w-8 h-8 flex items-center justify-center rounded ${page === currentPage ? 'bg-gray-900 text-white' : 'bg-white text-gray-700 border'}`}\n                  >\n                    {page}\n                  </button>\n                );\n              })}\n            </div>\n            <button\n              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\n              disabled={currentPage === totalPages}\n              className={`px-3 py-1 rounded ${currentPage === totalPages ? 'bg-gray-200 text-gray-400' : 'bg-gray-800 text-white'}`}\n            >\n              Next\n            </button>\n          </div>\n        </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}