{"version":3,"sources":["../../../../src/lib/validation.ts"],"sourcesContent":["/**\n * Field validation utilities for form inputs\n */\n\nexport const getFieldInputType = (fieldName: string): string => {\n  const lowerField = fieldName.toLowerCase();\n\n  if (lowerField.includes(\"phone\") || lowerField.includes(\"contact\")) {\n    return \"tel\";\n  }\n  if (lowerField.includes(\"email\")) {\n    return \"email\";\n  }\n  if (lowerField.includes(\"date\")) {\n    return \"date\";\n  }\n  if (lowerField.includes(\"ip\")) {\n    return \"text\";\n  }\n  return \"text\";\n};\n\nexport const getFieldPattern = (fieldName: string): string | undefined => {\n  const lowerField = fieldName.toLowerCase();\n\n  if (lowerField.includes(\"phone\") || lowerField.includes(\"contact\")) {\n    return \"[0-9\\\\-()\\\\+ ]*\";\n  }\n  return undefined;\n};\n\n/**\n * Validate field input based on field type\n */\nexport const validateFieldInput = (\n  fieldName: string,\n  value: string\n): { valid: boolean; error?: string } => {\n  if (!value) {\n    return { valid: true }; // Empty is valid for optional fields\n  }\n\n  const lowerField = fieldName.toLowerCase();\n\n  // Phone/Contact validation - only numbers, dashes, parentheses, plus, spaces\n  if (lowerField.includes(\"phone\") || lowerField.includes(\"contact\")) {\n    const phoneRegex = /^[0-9\\-()+ ]*$/;\n    if (!phoneRegex.test(value)) {\n      return {\n        valid: false,\n        error:\n          \"Phone number can only contain numbers, dashes, parentheses, plus sign, and spaces\",\n      };\n    }\n    return { valid: true };\n  }\n\n  // Email validation\n  if (lowerField.includes(\"email\")) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(value)) {\n      return { valid: false, error: \"Please enter a valid email address\" };\n    }\n    return { valid: true };\n  }\n\n  // Title - should not be empty if required\n  if (lowerField.includes(\"title\")) {\n    if (value.trim().length === 0) {\n      return { valid: false, error: \"Title cannot be empty\" };\n    }\n    if (value.length > 100) {\n      return { valid: false, error: \"Title must be 100 characters or less\" };\n    }\n    return { valid: true };\n  }\n\n  // Description - should not be empty if required\n  if (lowerField.includes(\"description\")) {\n    if (value.trim().length === 0) {\n      return { valid: false, error: \"Description cannot be empty\" };\n    }\n    if (value.length > 500) {\n      return { valid: false, error: \"Description must be 500 characters or less\" };\n    }\n    return { valid: true };\n  }\n\n  // Default validation\n  return { valid: true };\n};\n\n/**\n * Validate entire form data\n */\nexport const validateFormData = (\n  data: Record<string, string>\n): { valid: boolean; errors: Record<string, string> } => {\n  const errors: Record<string, string> = {};\n\n  Object.entries(data).forEach(([key, value]) => {\n    const result = validateFieldInput(key, value);\n    if (!result.valid && result.error) {\n      errors[key] = result.error;\n    }\n  });\n\n  return {\n    valid: Object.keys(errors).length === 0,\n    errors,\n  };\n};\n\n/**\n * Only allow numeric input for phone numbers\n */\nexport const filterPhoneInput = (value: string): string => {\n  // Allow numbers, dashes, parentheses, plus sign, and spaces\n  return value.replace(/[^0-9\\-()+ ]/g, \"\");\n};\n"],"names":[],"mappings":"iEAoHgC,AAAC,GAExB,EAAM,OAAO,CAAC,gBAAiB,0BAlHN,AAAD,IAC/B,IAAM,EAAa,EAAU,WAAW,UAExC,AAAI,EAAW,QAAQ,CAAC,UAAY,EAAW,QAAQ,CAAC,WAC/C,CAD2D,KAGhE,EAAW,QAAQ,CAAC,SACf,CADyB,OAG9B,EAAW,QAAQ,CAAC,QACf,CADwB,OAG7B,EAAW,QAAQ,CAAC,MAGjB,CAHwB,MAIjC,sBAE+B,AAAC,IAC9B,IAAM,EAAa,EAAU,WAAW,GAExC,GAAI,EAAW,QAAQ,CAAC,UAAY,EAAW,QAAQ,CAAC,WACtD,CADkE,KAC3D,iBAGX,yBAKkC,CAChC,EACA,KAEA,GAAI,CAAC,EACH,KADU,CACH,CAAE,OAAO,CAAK,EAGvB,CAH0B,GAGpB,EAAa,EAAU,WAAW,GAGxC,GAAI,EAAW,QAAQ,CAAC,EANuC,QAM3B,EAAW,QAAQ,CAAC,YAAY,KAC/C,AACnB,AAAK,IAAD,aAAY,IAAI,CAAC,GAOd,CAAE,IAPoB,GAOb,CAAK,EANZ,CACL,OAAO,EACP,MACE,mFACJ,EAMJ,GAAI,EAAW,QAAQ,CAAC,UAAU,KACb,AACnB,AAAK,IAAD,yBAAY,IAAI,CAAC,GAGd,CAAE,IAHoB,GAGb,CAAK,EAFZ,CAAE,OAAO,EAAO,MAAO,oCAAqC,EAMvE,GAAI,EAAW,QAAQ,CAAC,UAAU,MAChC,AAA4B,GAAG,CAA3B,EAAM,IAAI,GAAG,MAAM,CACd,CAAE,OAAO,EAAO,MAAO,uBAAwB,EAEpD,EAAM,MAAM,CAAG,IACV,CADe,AACb,OAAO,EAAO,MAAO,sCAAuC,EAEhE,CAAE,OAAO,CAAK,EAIvB,GAAI,EAAW,QAAQ,CAAC,eAAgB,CACtC,GAA4B,GAAG,CAA3B,EAAM,IAAI,GAAG,MAAM,CACrB,MAAO,CAAE,OAAO,EAAO,MAAO,6BAA8B,EAE9D,GAAI,EAAM,MAAM,CAAG,IACjB,CADsB,KACf,CAAE,OAAO,EAAO,MAAO,4CAA6C,CAG/E,CAGA,MAAO,CAAE,OAAO,CAAK,CACvB"}